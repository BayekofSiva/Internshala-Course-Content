{"ast":null,"code":"import{lazy,Suspense,useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate,useLocation}from'react-router-dom';import{useSelector}from'react-redux';import{selectCartItems}from'./redux/selectors';import Header from'./components/Header';import LoadingSpinner from'./components/LoadingSpinner';import ScrollToTop from'./components/ScrollToTop';import useRouteAnalytics from'./hooks/useRouteAnalytics';// Lazy-loaded components\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=/*#__PURE__*/lazy(()=>import('./pages/Home'));const ProductList=/*#__PURE__*/lazy(()=>import('./pages/ProductList'));const ProductDetail=/*#__PURE__*/lazy(()=>import('./pages/ProductDetail'));const Cart=/*#__PURE__*/lazy(()=>import('./pages/Cart'));const Checkout=/*#__PURE__*/lazy(()=>import('./pages/Checkout'));const NotFound=/*#__PURE__*/lazy(()=>import('./pages/NotFound'));const Login=/*#__PURE__*/lazy(()=>import('./pages/Login'));// Route guard components\nconst AuthGuard=_ref=>{let{children}=_ref;const isAuthenticated=false;// Replace with actual auth check\nreturn isAuthenticated?children:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});};const CartGuard=_ref2=>{let{children}=_ref2;const cartItems=useSelector(selectCartItems);return cartItems.length>0?children:/*#__PURE__*/_jsx(Navigate,{to:\"/cart\",replace:true});};function AppWrapper(){return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(App,{})});}function App(){const location=useLocation();const[darkMode,setDarkMode]=useState(false);// Initialize analytics and theme\nuseRouteAnalytics();useEffect(()=>{document.body.classList.toggle('dark-mode',darkMode);},[darkMode]);return/*#__PURE__*/_jsxs(\"div\",{className:`app ${darkMode?'dark-theme':''}`,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDarkMode(!darkMode),className:\"theme-toggle\",children:darkMode?'‚òÄÔ∏è Light':'üåô Dark'}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(LoadingSpinner,{fullPage:true}),children:/*#__PURE__*/_jsxs(Routes,{location:location,children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/products\",element:/*#__PURE__*/_jsx(ProductList,{})}),/*#__PURE__*/_jsx(Route,{path:\"/products/:id\",element:/*#__PURE__*/_jsx(ProductDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/checkout\",element:/*#__PURE__*/_jsx(CartGuard,{children:/*#__PURE__*/_jsx(AuthGuard,{children:/*#__PURE__*/_jsx(Checkout,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]},location.pathname)}),/*#__PURE__*/_jsx(ScrollToTop,{})]});}export default AppWrapper;","map":{"version":3,"names":["lazy","Suspense","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","useLocation","useSelector","selectCartItems","Header","LoadingSpinner","ScrollToTop","useRouteAnalytics","jsx","_jsx","jsxs","_jsxs","Home","ProductList","ProductDetail","Cart","Checkout","NotFound","Login","AuthGuard","_ref","children","isAuthenticated","to","replace","CartGuard","_ref2","cartItems","length","AppWrapper","App","location","darkMode","setDarkMode","document","body","classList","toggle","className","onClick","fallback","fullPage","path","element","pathname"],"sources":["E:/Topic/PortFolio/Internshala Course Content/ReactFinalAssignment/reactfinalassignment/src/App.js"],"sourcesContent":["import { lazy, Suspense, useState, useEffect } from 'react';\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Navigate,\n  useLocation\n} from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { selectCartItems } from './redux/selectors';\nimport Header from './components/Header';\nimport LoadingSpinner from './components/LoadingSpinner';\nimport ScrollToTop from './components/ScrollToTop';\nimport useRouteAnalytics from './hooks/useRouteAnalytics';\n\n// Lazy-loaded components\nconst Home = lazy(() => import('./pages/Home'));\nconst ProductList = lazy(() => import('./pages/ProductList'));\nconst ProductDetail = lazy(() => import('./pages/ProductDetail'));\nconst Cart = lazy(() => import('./pages/Cart'));\nconst Checkout = lazy(() => import('./pages/Checkout'));\nconst NotFound = lazy(() => import('./pages/NotFound'));\nconst Login = lazy(() => import('./pages/Login'));\n\n// Route guard components\nconst AuthGuard = ({ children }) => {\n  const isAuthenticated = false; // Replace with actual auth check\n  return isAuthenticated ? children : <Navigate to=\"/login\" replace />;\n};\n\nconst CartGuard = ({ children }) => {\n  const cartItems = useSelector(selectCartItems);\n  return cartItems.length > 0 ? children : <Navigate to=\"/cart\" replace />;\n};\n\nfunction AppWrapper() {\n  return (\n    <Router>\n      <App />\n    </Router>\n  );\n}\n\nfunction App() {\n  const location = useLocation();\n  const [darkMode, setDarkMode] = useState(false);\n\n  // Initialize analytics and theme\n  useRouteAnalytics();\n  \n  useEffect(() => {\n    document.body.classList.toggle('dark-mode', darkMode);\n  }, [darkMode]);\n\n  return (\n    <div className={`app ${darkMode ? 'dark-theme' : ''}`}>\n      <button \n        onClick={() => setDarkMode(!darkMode)}\n        className=\"theme-toggle\"\n      >\n        {darkMode ? '‚òÄÔ∏è Light' : 'üåô Dark'}\n      </button>\n      \n      <Header />\n      \n      <Suspense fallback={<LoadingSpinner fullPage />}>\n        <Routes location={location} key={location.pathname}>\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"/products\" element={<ProductList />} />\n          <Route path=\"/products/:id\" element={<ProductDetail />} />\n          <Route path=\"/cart\" element={<Cart />} />\n          <Route path=\"/login\" element={<Login />} />\n          <Route\n            path=\"/checkout\"\n            element={\n              <CartGuard>\n                <AuthGuard>\n                  <Checkout />\n                </AuthGuard>\n              </CartGuard>\n            }\n          />\n          <Route path=\"*\" element={<NotFound />} />\n        </Routes>\n      </Suspense>\n      \n      <ScrollToTop />\n    </div>\n  );\n}\n\nexport default AppWrapper;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}