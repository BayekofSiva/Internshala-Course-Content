{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  items: []\n};\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    addItem: (state, action) => {\n      const {\n        payload: product,\n        meta: {\n          availableStock\n        }\n      } = action;\n      const existingItem = state.items.find(item => item.id === product.id);\n      if (existingItem) {\n        if (existingItem.quantity >= availableStock) {\n          throw new Error(`Only ${availableStock} items available in stock`);\n        }\n        existingItem.quantity++;\n      } else {\n        state.items.push({\n          ...product,\n          quantity: 1\n        });\n      }\n    }\n  }\n});\nexport const {\n  addItem,\n  removeItem,\n  updateQuantity,\n  clearCart\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","items","cartSlice","name","reducers","addItem","state","action","payload","product","meta","availableStock","existingItem","find","item","id","quantity","Error","push","removeItem","updateQuantity","clearCart","actions","reducer"],"sources":["E:/Topic/PortFolio/Internshala Course Content/ReactFinalAssignment/reactfinalassignment/src/redux/cartSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n  items: [],\r\n};\r\n\r\nconst cartSlice = createSlice({\r\n  name: 'cart',\r\n  initialState,\r\n  reducers: {\r\n    addItem: (state, action) => {\r\n      const { payload: product, meta: { availableStock } } = action;\r\n      const existingItem = state.items.find(item => item.id === product.id);\r\n      \r\n      if (existingItem) {\r\n        if (existingItem.quantity >= availableStock) {\r\n          throw new Error(`Only ${availableStock} items available in stock`);\r\n        }\r\n        existingItem.quantity++;\r\n      } else {\r\n        state.items.push({ ...product, quantity: 1 });\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\n\r\n\r\nexport const { addItem, removeItem, updateQuantity, clearCart } = cartSlice.actions;\r\nexport default cartSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAE;AACT,CAAC;AAED,MAAMC,SAAS,GAAGH,WAAW,CAAC;EAC5BI,IAAI,EAAE,MAAM;EACZH,YAAY;EACZI,QAAQ,EAAE;IACRC,OAAO,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC1B,MAAM;QAAEC,OAAO,EAAEC,OAAO;QAAEC,IAAI,EAAE;UAAEC;QAAe;MAAE,CAAC,GAAGJ,MAAM;MAC7D,MAAMK,YAAY,GAAGN,KAAK,CAACL,KAAK,CAACY,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKN,OAAO,CAACM,EAAE,CAAC;MAErE,IAAIH,YAAY,EAAE;QAChB,IAAIA,YAAY,CAACI,QAAQ,IAAIL,cAAc,EAAE;UAC3C,MAAM,IAAIM,KAAK,CAAC,QAAQN,cAAc,2BAA2B,CAAC;QACpE;QACAC,YAAY,CAACI,QAAQ,EAAE;MACzB,CAAC,MAAM;QACLV,KAAK,CAACL,KAAK,CAACiB,IAAI,CAAC;UAAE,GAAGT,OAAO;UAAEO,QAAQ,EAAE;QAAE,CAAC,CAAC;MAC/C;IACF;EACF;AACF,CAAC,CAAC;AAIF,OAAO,MAAM;EAAEX,OAAO;EAAEc,UAAU;EAAEC,cAAc;EAAEC;AAAU,CAAC,GAAGnB,SAAS,CAACoB,OAAO;AACnF,eAAepB,SAAS,CAACqB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}